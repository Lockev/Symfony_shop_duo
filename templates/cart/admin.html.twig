{% extends 'base.html.twig' %}

{% block title %}{{ 'title.admin.cart'|trans }}{% endblock %}

{% block body %}

    {% if is_granted("ROLE_SUPER_ADMIN") %}

      <a href="{{ path('newUsers') }}">{{ 'admin.cart.link'|trans }}</a>

        {% if allCarts is not null %}

          <h1>{{ 'admin.cart.title'|trans }}</h1>
          <table class="table">
            <thead class="thead-dark">
              <tr>
                <th>{{ 'User'|trans }}</th>
                <th>{{ 'Cart ID'|trans }}</th>
                <th>{{ 'Articles'|trans }}</th>
              </tr>
            </thead>
            <tbody>
              {% for cart in allCarts %}
                <tr>
                  
                  <td>{{ cart.user.name }} {{ cart.user.firstname }}</td>
                  <td>{{cart.id}}</td>
                  {% for product in cart.cartContents %}
                  <td class="d-flex"><a href="{{ path('one_product', {'id':product.product.id}) }}">{{product.product.name}}</a></td>
                  {% endfor %}
                </tr>
              {% endfor %}
              </tbody>
            </table>
        {% else %}
            <p>{{ 'admin.cart.empty'|trans }}</p>
        {% endif %}
    {% else %}
        <p>{{ 'admin.unauthorised'|trans }}</p>
    {% endif %}

<style>
td{
  vertical-align: middle !important
}
</style>
{% endblock %}
